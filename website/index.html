<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="description"    content="Data Visualization"/>
    <meta name="keywords"       content="HTML, CSS, D3"/>
    <meta name="author"         content=""/>
    <title>Assignment</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>

    </style>
</head>
<body>
    <p id="globe">
        <input type="range", class="slider", id="year">
        <br/>
        <svg id="globesvg"></svg>
        <script>
            var w = 660;
            var h = 450;
            var projection = d3.geoMercator()
                .center([0, 0])
                .translate([w/2, (h/3)*2])
                .scale(100);
            var path = d3.geoPath()
                .projection(projection)
            var svg = d3.select("#globesvg")
                .attr("width", w)
                .attr("height", h)
                .attr("fill", "grey")
                .attr("style", "background-color:LightSkyBlue")
            d3.csv("Data/DS_Tobacco.csv").then(function(d) {
                dataset = d
                for (var i = 0; i < dataset.length; i++){
                    console.log(dataset[i].ReferenceArea)
                }
                d3.json("globe.geo.json").then(function(json) {
                    svg.selectAll("path")
                        .data(json.features)
                        .enter()
                        .append("path")
                        .attr("d", path);
                });
            });
        </script>
    </p>
    <br/>
    <br/>
    <footer style="color:grey"><br/>COS30045 Data Visualization<br/></footer>
</body>
</html>